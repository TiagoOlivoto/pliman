<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="image_index() Builds image indexes using Red, Green, Blue, Red-Edge, and NIR bands.
Generates a raster or density plot of the index values computed with
image_index()."><title>Image indexes — image_index • pliman</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Image indexes — image_index"><meta property="og:description" content="image_index() Builds image indexes using Red, Green, Blue, Red-Edge, and NIR bands.
Generates a raster or density plot of the index values computed with
image_index()."><meta property="og:image" content="https://tiagoolivoto.github.io/pliman/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-VWN5YL53DP"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VWN5YL53DP');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-inverse navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">pliman</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-examples">Examples</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-examples">
    <a class="dropdown-item" href="../articles/manipulation.html">Image manipulation</a>
    <a class="dropdown-item" href="../articles/segmentation.html">Image segmentation</a>
    <a class="dropdown-item" href="../articles/polygons.html">Polygons</a>
    <a class="dropdown-item" href="../articles/analyze_objects.html">Analyze objects in an image</a>
    <a class="dropdown-item" href="../articles/leaf_area.html">Measure leaf area</a>
    <a class="dropdown-item" href="../articles/phytopatometry.html">Phytopatometry</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <a class="dropdown-item" href="../news/index.html">Package news</a>
    <a class="external-link dropdown-item" href="https://olivoto.netlify.app/">Blog posts</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-more">More</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-more">
    <a class="dropdown-item" href="../CODE_OF_CONDUCT.html">Code of Conduct</a>
    <a class="dropdown-item" href="../CONTRIBUTING.html">Contributing</a>
    <a class="dropdown-item" href="../ISSUE_TEMPLATE.html">Issues</a>
    <a class="dropdown-item" href="../SUPPORT.html">Support</a>
    <a class="dropdown-item" href="../LICENSE.html">Licence</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://www.researchgate.net/profile/Tiago_Olivoto2">
    <span class="fab fa fab fa-researchgate fa-2x"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/TiagoOlivoto">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/tolivoto">
    <span class="fab fa fab fa-twitter fa-2x"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.mendeley.com/profiles/tiago-olivoto/">
    <span class="fab fa fab fa-mendeley fa-2x"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Image indexes</h1>
      <small class="dont-index">Source: <a href="https://github.com/TiagoOlivoto/pliman/blob/HEAD/R/utils_imagem.R" class="external-link"><code>R/utils_imagem.R</code></a></small>
      <div class="d-none name"><code>image_index.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>image_index()</code> Builds image indexes using Red, Green, Blue, Red-Edge, and NIR bands.</p>
<p>Generates a raster or density plot of the index values computed with
<code>image_index()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">image_index</span><span class="op">(</span></span>
<span>  <span class="va">img</span>,</span>
<span>  index <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  re <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  has_white_bg <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  nrow <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ncol <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  workers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for image_index</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"raster"</span>, <span class="st">"density"</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="cn">NULL</span>, ncol <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>img</dt>
<dd><p>An image object.</p></dd>


<dt>index</dt>
<dd><p>A character value (or a vector of characters) specifying the
target mode for conversion to binary image. Use <code><a href="utils_file.html">pliman_indexes()</a></code> or the
<code>details</code> section to see the available indexes.  Defaults to <code>NULL</code>
((normalized) Red, Green and Blue).  One can also use "RGB" for RGB only,
"NRGB" for normalized RGB, or "all" for all indexes. User can also
calculate your own index using the bands names, e.g. <code>index = "R+B/G"</code>.</p></dd>


<dt>resize</dt>
<dd><p>Resize the image before processing? Defaults to <code>resize = FALSE</code>. Use <code>resize = 50</code>, which resizes the image to 50% of the original
size to speed up image processing.</p></dd>


<dt>re</dt>
<dd><p>Respective position of the red-edge band at the original image
file.</p></dd>


<dt>nir</dt>
<dd><p>Respective position of the near-infrared band at the original
image file.</p></dd>


<dt>has_white_bg</dt>
<dd><p>Logical indicating whether a white background is present.
If TRUE, pixels that have R, G, and B values equals to 1 will be considered
as NA. This may be useful to compute an image index for objects that have,
for example, a white background. In such cases, the background will not be
considered for the threshold computation.</p></dd>


<dt>plot</dt>
<dd><p>Show image after processing?</p></dd>


<dt>nrow, ncol</dt>
<dd><p>The number of rows or columns in the plot grid. Defaults to
<code>NULL</code>, i.e., a square grid is produced.</p></dd>


<dt>parallel</dt>
<dd><p>Processes the images asynchronously (in parallel) in separate
R sessions running in the background on the same machine. It may speed up
the processing time when <code>image</code> is a list. The number of sections is set
up to 70% of available cores.</p></dd>


<dt>workers</dt>
<dd><p>A positive numeric scalar or a function specifying the maximum
number of parallel processes that can be active at the same time.</p></dd>


<dt>verbose</dt>
<dd><p>If <code>TRUE</code> (default) a summary is shown in the console.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments passed to <code><a href="plot_index.html">plot_index()</a></code> for customization.</p></dd>


<dt>x</dt>
<dd><p>An object of class <code>image_index</code>.</p></dd>


<dt>type</dt>
<dd><p>The type of plot. Use <code>type = "raster"</code> (default) to produce a
raster plot showing the intensity of the pixels for each image index or
<code>type = "density"</code> to produce a density plot with the pixels' intensity.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list containing Grayscale images. The length will depend on the
number of indexes used.</p>


<p>A <code>NULL</code> object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The following indexes are available in pliman.</p><ul><li><p>RGB color space</p></li>
</ul><ul><li><p><code>R</code> red</p></li>
<li><p><code>G</code> green</p></li>
<li><p><code>B</code> blue</p></li>
<li><p><code>NR</code> normalized red <code>R/(R+G+B)</code>.</p></li>
<li><p><code>NG</code> normalized green <code>G/(R+G+B)</code></p></li>
<li><p><code>NB</code> normalized blue <code>B/(R+G+B)</code></p></li>
<li><p><code>GB</code> green blue ratio <code>G/B</code></p></li>
<li><p><code>RB</code> red blue ratio <code>R/B</code></p></li>
<li><p><code>GR</code> green red ratio <code>G/R</code></p></li>
<li><p><code>BI</code> brightness Index <code>sqrt((R^2+G^2+B^2)/3)</code></p></li>
<li><p><code>BIM</code> brightness Index 2 <code>sqrt((R*2+G*2+B*2)/3)</code></p></li>
<li><p><code>SCI</code> Soil Colour Index <code>(R-G)/(R+G)</code></p></li>
<li><p><code>GLI</code> Green leaf index Vis Louhaichi et al. (2001) <code>(2*G-R-B)/(2*G+R+B)</code></p></li>
<li><p><code>HI</code> Primary colours Hue Index    (2*R-G-B)/(G-B)</p></li>
<li><p><code>NDGRI</code> Normalized green red difference index (Tucker, 1979) <code>(G-R)/(G+R)</code></p></li>
<li><p><code>NDGBI</code> Normalized green blue difference index <code>(G-B)/(G+B)</code></p></li>
<li><p><code>NDRBI</code> Normalized red blue difference index <code>(R-B)/(R+B)</code></p></li>
<li><p><code>I</code>     R+G+B</p></li>
<li><p><code>S</code>     <code>((R+G+B)-3*B)/(R+G+B)</code></p></li>
<li><p><code>L</code>     R+G+B/3</p></li>
<li><p><code>VARI</code> A Visible Atmospherically Resistant Index <code>(G-R)/(G+R-B)</code></p></li>
<li><p><code>HUE</code> Overall Hue Index <code>atan(2*(B-G-R)/30.5*(G-R))</code></p></li>
<li><p><code>HUE2</code>  atan(2*(R-G-R)/30.5*(G-B))</p></li>
<li><p><code>BGI</code>   B/G</p></li>
<li><p><code>GRAY</code>	<code>0.299*R + 0.587*G + 0.114*B</code></p></li>
<li><p><code>GRAY2</code> <code>((R^2.2+(1.5*G)^2.2+(0.6*B)^2.2)/(1+1.5^2.2+0.6^2.2))^1/2.2</code></p></li>
<li><p><code>GLAI</code> <code>(25*(G-R)/(G+R-B)+1.25)</code></p></li>
<li><p><code>CI</code> Coloration Index <code>(R-B)/R</code></p></li>
<li><p><code>SAT</code> Overhall Saturation Index <code>(max(R,G,B) - min(R,G,B)) / max(R,G,B)</code></p></li>
<li><p><code>SHP</code> Shape Index <code>2*(R-G-B)/(G-B)</code></p></li>
<li><p><code>RI</code> Redness Index <code>R**2/(B*G**3)</code></p></li>
</ul><ul><li><p>HSB color space</p></li>
<li><p><code>DGCI</code> Dark Green Color Index, based on HSB color space <code>60\*((G - B) / (max(R, G, B) - min(R, G, B)))</code></p></li>
<li><p>CIE-Lab color space</p></li>
</ul><ul><li><p><code>L*</code>: relative luminance <code>(0.2126 * R + 0.7152 * G + 0.0722 * B)</code></p></li>
<li><p><code>a*</code>: <code>0.55*( (R - (0.2126 * R + 0.7152 * G + 0.0722 * B)) / (1.0 - 0.2126))</code></p></li>
</ul><p>When <code>type = "raster"</code> (default), the function calls <code><a href="plot_index.html">plot_index()</a></code>
to create a raster plot for each index present in <code>x</code>. If <code>type = "density"</code>,
a for loop is used to create a density plot for each index. Both types of
plots can be arranged in a grid controlled by the <code>ncol</code> and <code>nrow</code>
arguments.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Nobuyuki Otsu, "A threshold selection method from gray-level
histograms". IEEE Trans. Sys., Man., Cyber. 9 (1): 62-66. 1979.
<a href="https://doi.org/10.1109/TSMC.1979.4310076" class="external-link">doi:10.1109/TSMC.1979.4310076</a></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Tiago Olivoto <a href="mailto:tiagoolivoto@gmail.com">tiagoolivoto@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/TiagoOlivoto/pliman" class="external-link">pliman</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">img</span> <span class="op">&lt;-</span> <span class="fu"><a href="utils_image.html">image_pliman</a></span><span class="op">(</span><span class="st">"soybean_touch.jpg"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">image_index</span><span class="op">(</span><span class="va">img</span>, index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"R, NR"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="image_index-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example for S3 method plot()</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/TiagoOlivoto/pliman" class="external-link">pliman</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">img</span> <span class="op">&lt;-</span> <span class="fu"><a href="utils_image.html">image_pliman</a></span><span class="op">(</span><span class="st">"sev_leaf.jpg"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># compute the index</span></span></span>
<span class="r-in"><span><span class="va">ind</span> <span class="op">&lt;-</span> <span class="fu">image_index</span><span class="op">(</span><span class="va">img</span>, index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"R, G, B, NGRDI"</span><span class="op">)</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ind</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="image_index-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># density plot</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ind</span>, type <span class="op">=</span> <span class="st">"density"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="image_index-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://olivoto.netlify.app/" class="external-link">Tiago Olivoto</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

