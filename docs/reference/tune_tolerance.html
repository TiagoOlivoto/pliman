<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Tune tolerance parameter — tune_tolerance • pliman</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Tune tolerance parameter — tune_tolerance" />
<meta property="og:description" content="Provides options for tunning tolerance parameter utilized in
[analyze_objects()] in two ways:
Declaring the actual argument, an iterative algorithm will compute the
first analysis and sequentially increase the parameter tolerance if the
computed number of objects is greater than actual or reduce the parameter
tolerance if the computed number of objects is less than actual. If the
algorithm did not converge up to maxiter is reached, users can change the
default extension value.
The second way is to create a grid with tolerance and extension
values. When grid is informed, all combinations (made by
base::expand.grid()) are tested and the residual from actual value is
plotted. Users can than find a better combination of parameters to use in
analyze_objects().

" />
<meta property="og:image" content="https://tiagoolivoto.github.io/pliman/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VWN5YL53DP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VWN5YL53DP');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pliman</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/manipulation.html">Image manipulation</a>
    </li>
    <li>
      <a href="../articles/segmentation.html">Image segmentation</a>
    </li>
    <li>
      <a href="../articles/analyze_objects.html">Analyze objects in an image</a>
    </li>
    <li>
      <a href="../articles/leaf_area.html">Measure leaf area</a>
    </li>
    <li>
      <a href="../articles/phytopatometry.html">Phytopatometry</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    More
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../CODE_OF_CONDUCT.html">Code of Conduct</a>
    </li>
    <li>
      <a href="../CONTRIBUTING.html">Contributing</a>
    </li>
    <li>
      <a href="../ISSUE_TEMPLATE.html">Issues</a>
    </li>
    <li>
      <a href="../SUPPORT.html">Support</a>
    </li>
    <li>
      <a href="../LICENSE.html">Licence</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://www.researchgate.net/profile/Tiago_Olivoto2">
    <span class="ai ai ai ai-researchgate"></span>
     
    RG
  </a>
</li>
<li>
  <a href="https://github.com/TiagoOlivoto">
    <span class="fab fab-github"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/tolivoto">
    <span class="fab fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://www.mendeley.com/profiles/tiago-olivoto/">
    <span class="fab fa-mendeley"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tune tolerance parameter</h1>
    <small class="dont-index">Source: <a href='https://github.com/TiagoOlivoto/pliman/blob/master/R/tune_tolerance.R'><code>R/tune_tolerance.R</code></a></small>
    <div class="hidden name"><code>tune_tolerance.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Provides options for tunning <code>tolerance</code> parameter utilized in
<code>[analyze_objects()]</code> in two ways:</p><ul>
<li><p>Declaring the <code>actual</code> argument, an iterative algorithm will compute the
first analysis and sequentially increase the parameter <code>tolerance</code> if the
computed number of objects is greater than <code>actual</code> or reduce the parameter
<code>tolerance</code> if the computed number of objects is less than <code>actual</code>. If the
algorithm did not converge up to <code>maxiter</code> is reached, users can change the
default <code>extension</code> value.</p></li>
<li><p>The second way is to create a <code>grid</code> with <code>tolerance</code> and <code>extension</code>
values. When <code>grid</code> is informed, all combinations (made by
<code><a href='https://rdrr.io/r/base/expand.grid.html'>base::expand.grid()</a></code>) are tested and the residual from <code>actual</code> value is
plotted. Users can than find a better combination of parameters to use in
<code><a href='analyze_objects.html'>analyze_objects()</a></code>.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>tune_tolerance</span><span class='op'>(</span>
  <span class='va'>img</span>,
  <span class='va'>actual</span>,
  start_tol <span class='op'>=</span> <span class='cn'>NULL</span>,
  extension <span class='op'>=</span> <span class='cn'>NULL</span>,
  grid <span class='op'>=</span> <span class='cn'>NULL</span>,
  maxiter <span class='op'>=</span> <span class='fl'>200</span>,
  index <span class='op'>=</span> <span class='st'>"NB"</span>,
  my_index <span class='op'>=</span> <span class='cn'>NULL</span>,
  plot <span class='op'>=</span> <span class='cn'>TRUE</span>,
  fill_hull <span class='op'>=</span> <span class='cn'>FALSE</span>,
  filter <span class='op'>=</span> <span class='cn'>FALSE</span>,
  invert <span class='op'>=</span> <span class='cn'>FALSE</span>,
  workers <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>img</th>
      <td><p>The image to be analyzed.</p></td>
    </tr>
    <tr>
      <th>actual</th>
      <td><p>The actual number of objects.</p></td>
    </tr>
    <tr>
      <th>start_tol</th>
      <td><p>An starting value for tolerance. Defaults to <code>1</code>.</p></td>
    </tr>
    <tr>
      <th>extension</th>
      <td><p>The extension value. Defaults to <code>1</code>.</p></td>
    </tr>
    <tr>
      <th>grid</th>
      <td><p>A list with a numeric sequence for <code>tolerance</code> and <code>extension</code>
values. When grid is informed, all combinations are tested and the residual
from <code>actual</code> value is plotted.</p></td>
    </tr>
    <tr>
      <th>maxiter</th>
      <td><p>The maximum number of iterations. Default to 200.</p></td>
    </tr>
    <tr>
      <th>index, my_index</th>
      <td><p>A character value specifying the target mode for
conversion to binary image when <code>foreground</code> and <code>background</code> are not
declared. Defaults to <code>"NB"</code> (normalized blue). See <code><a href='image_index.html'>image_index()</a></code> for
more details.</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>Logical. If <code>TRUE</code> (default) generates a plot showing the
results.</p></td>
    </tr>
    <tr>
      <th>fill_hull</th>
      <td><p>Fill holes in the binary image? Defaults to <code>FALSE</code>. This is
useful to fill holes in objects that have portions with a color similar to
the background. IMPORTANT: Objects touching each other can be combined into
one single object, which may underestimate the number of objects in an
image.</p></td>
    </tr>
    <tr>
      <th>filter</th>
      <td><p>Performs median filtering after image processing? defaults to
<code>FALSE</code>. See more at <code><a href='utils_transform.html'>image_filter()</a></code>.</p></td>
    </tr>
    <tr>
      <th>invert</th>
      <td><p>Inverts the binary image, if desired. This is useful to process
images with black background. Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>workers</th>
      <td><p>The number of multiple sections to be used in the computation.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>If <code>TRUE</code> (default) a summary is shown in the console.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Tiago Olivoto <a href='mailto:tiagoolivoto@gmail.com'>tiagoolivoto@gmail.com</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/TiagoOlivoto/pliman'>pliman</a></span><span class='op'>)</span>
<span class='kw'>if</span><span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>{</span>
 <span class='va'>img</span> <span class='op'>&lt;-</span> <span class='fu'><a href='utils_image.html'>image_pliman</a></span><span class='op'>(</span><span class='st'>"soybean_touch.jpg"</span><span class='op'>)</span>

 <span class='co'># starts with tolerance = 1</span>
 <span class='fu'>tune_tolerance</span><span class='op'>(</span><span class='va'>img</span>, actual <span class='op'>=</span> <span class='fl'>30</span><span class='op'>)</span>

 <span class='co'># Using a grid of tolerance and extension values</span>
 <span class='va'>tune2</span> <span class='op'>&lt;-</span>
   <span class='fu'>tune_tolerance</span><span class='op'>(</span><span class='va'>img</span>,
                  actual <span class='op'>=</span> <span class='fl'>30</span>,
                  grid <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>tolerance <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>5</span>, by <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span>,
                              extension <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span><span class='op'>)</span>, plot <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://olivoto.netlify.app/'>Tiago Olivoto</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


