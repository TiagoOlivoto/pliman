<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Utilities for object measures — utils_measures • pliman</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Utilities for object measures — utils_measures" />
<meta property="og:description" content="

get_measures() computes object measures (area, perimeter, radius) by using
either a known resolution (dpi) or an object with known measurements.
plot_measures() draws the object measures given in an object to the
current plot. The object identification (&quot;id&quot;) is drawn by default.

" />
<meta property="og:image" content="https://tiagoolivoto.github.io/pliman/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VWN5YL53DP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VWN5YL53DP');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pliman</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/manipulation.html">Image manipulation</a>
    </li>
    <li>
      <a href="../articles/segmentation.html">Image segmentation</a>
    </li>
    <li>
      <a href="../articles/analyze_objects.html">Analyze objects in an image</a>
    </li>
    <li>
      <a href="../articles/leaf_area.html">Measure leaf area</a>
    </li>
    <li>
      <a href="../articles/phytopatometry.html">Phytopatometry</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    More
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../CODE_OF_CONDUCT.html">Code of Conduct</a>
    </li>
    <li>
      <a href="../CONTRIBUTING.html">Contributing</a>
    </li>
    <li>
      <a href="../ISSUE_TEMPLATE.html">Issues</a>
    </li>
    <li>
      <a href="../SUPPORT.html">Support</a>
    </li>
    <li>
      <a href="../LICENSE.html">Licence</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://www.researchgate.net/profile/Tiago_Olivoto2">
    <span class="ai ai ai ai-researchgate"></span>
     
    RG
  </a>
</li>
<li>
  <a href="https://github.com/TiagoOlivoto">
    <span class="fab fab-github"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/tolivoto">
    <span class="fab fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://www.mendeley.com/profiles/tiago-olivoto/">
    <span class="fab fa-mendeley"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Utilities for object measures</h1>
    <small class="dont-index">Source: <a href='https://github.com/TiagoOlivoto/pliman/blob/master/R/utils_measures.R'><code>R/utils_measures.R</code></a></small>
    <div class="hidden name"><code>utils_measures.Rd</code></div>
    </div>

    <div class="ref-description">
    
<ul>
<li><p><code>get_measures()</code> computes object measures (area, perimeter, radius) by using
either a known resolution (dpi) or an object with known measurements.</p></li>
<li><p><code>plot_measures()</code> draws the object measures given in an object to the
current plot. The object identification (<code>"id"</code>) is drawn by default.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>get_measures</span><span class='op'>(</span>
  <span class='va'>object</span>,
  id <span class='op'>=</span> <span class='cn'>NULL</span>,
  measure <span class='op'>=</span> <span class='cn'>NULL</span>,
  dpi <span class='op'>=</span> <span class='cn'>NULL</span>,
  sep <span class='op'>=</span> <span class='st'>"\\_|-"</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  digits <span class='op'>=</span> <span class='fl'>3</span>
<span class='op'>)</span>

<span class='fu'>plot_measures</span><span class='op'>(</span>
  <span class='va'>object</span>,
  measure <span class='op'>=</span> <span class='st'>"id"</span>,
  hjust <span class='op'>=</span> <span class='cn'>NULL</span>,
  vjust <span class='op'>=</span> <span class='cn'>NULL</span>,
  digits <span class='op'>=</span> <span class='fl'>2</span>,
  size <span class='op'>=</span> <span class='fl'>0.9</span>,
  col <span class='op'>=</span> <span class='st'>"white"</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>An object computed with <code><a href='analyze_objects.html'>analyze_objects()</a></code>.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>An object in the image to indicate a known value.</p></td>
    </tr>
    <tr>
      <th>measure</th>
      <td><p>For <code>plot_measures()</code>, a character string; for
<code>get_measures()</code>, a two-sided formula, e.g., <code>measure = area ~ 100</code>
indicating the known value of object <code>id</code>. The right-hand side is the known
value and the left-hand side can be one of the following.</p><ul>
<li><p><code>area</code> The known area of the object.</p></li>
<li><p><code>perimeter</code> The known perimeter of the object.</p></li>
<li><p><code>radius_mean</code> The known radius of the object.</p></li>
<li><p><code>radius_min</code> The known minimum radius of the object. If the object is a
square, then the <code>radius_min</code> of such object will be <code>L/2</code> where <code>L</code> is the
length of the square side.</p></li>
<li><p><code>radius_max</code> The known maximum radius of the object. If the object is a
square, then the <code>radius_max</code> of such object according to the Pythagorean
theorem will be <code>L x sqrt(2) / 2</code> where <code>L</code> is the length of the square side.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>dpi</th>
      <td><p>A known resolution of the image in DPI (dots per inch).</p></td>
    </tr>
    <tr>
      <th>sep</th>
      <td><p>Regular expression to manage file names. The function combines in
the <code>merge</code> object the object measures (sum of area and mean of all the
other measures) of all images that share the same filename prefix, defined
as the part of the filename preceding the first hyphen (-) or underscore
(_) (no hyphen or underscore is required). For example, the measures of
images named L1-1.jpeg, L1-2.jpeg, and L1-3.jpeg would be combined into a
single image information (L1). This feature allows the user to treat
multiple images as belonging to a single sample, if desired. Defaults to
<code>sep = "\\_|-"</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>If <code>FALSE</code>, runs the code silently.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>The number of significant figures. Defaults to <code>2.</code></p></td>
    </tr>
    <tr>
      <th>hjust, vjust</th>
      <td><p>A numeric value to adjust the labels horizontally and
vertically. Positive values will move labels to right (hjust) and top
(vjust). Negative values will move the labels to left and bottom,
respectively.</p></td>
    </tr>
    <tr>
      <th>size</th>
      <td><p>The size of the text. Defaults to <code>0.9</code>.</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>The color of the text. Defaults to <code>"white"</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed on to <code><a href='https://rdrr.io/r/graphics/text.html'>graphics::text()</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    
<ul>
<li><p>For <code>get_measures()</code>, if <code>measure</code> is informed, the pixel values will be
corrected by the value of the known object, given in the unit of the
right-hand side of <code>measure</code>. If <code>dpi</code> is informed, then all the measures
will be adjusted to the known <code>dpi</code>.</p><ul>
<li><p>If applied to an object of class <code>anal_obj</code>, returns a data frame with the
object <code>id</code> and the (corrected) measures.</p></li>
<li><p>If applied to an object of class <code>anal_obj_ls</code>, returns a list of class
<code>measures_ls</code>, with two objects: (i) <code>results</code>, a data frame containing
the identification of each image (img) and object within each image (id);
and (ii) <code>summary</code> a data frame containing the values for each image. If
more than one object is detected in a given image, the number of objects
(<code>n</code>), total area (<code>area_sum</code>), mean area (<code>area_mean</code>) and the standard
deviation of the area (<code>area_sd</code>) will be computed. For the other measures
(perimeter and radius), the mean values are presented.</p></li>
</ul></li>
<li><p><code>plot_measures()</code> returns a <code>NULL</code> object, drawing the text according to
the x and y coordinates of the objects in <code>object</code>.</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/TiagoOlivoto/pliman'>pliman</a></span><span class='op'>)</span>
<span class='va'>img</span> <span class='op'>&lt;-</span> <span class='fu'><a href='utils_image.html'>image_pliman</a></span><span class='op'>(</span><span class='st'>"objects_300dpi.jpg"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>img</span><span class='op'>)</span>
</div><div class='input'><span class='co'># Image with four objects with a known resolution of 300 dpi</span>
<span class='co'># Higher square: 10 x 10 cm</span>
<span class='co'># Lower square: 5 x 5 cm</span>
<span class='co'># Rectangle: 4 x 2 cm</span>
<span class='co'># Circle: 3 cm in diameter</span>

<span class='co'># Count the objects using the blue band to segment the image</span>
<span class='va'>results</span> <span class='op'>&lt;-</span>
   <span class='fu'><a href='analyze_objects.html'>analyze_objects</a></span><span class='op'>(</span><span class='va'>img</span>,
                 index <span class='op'>=</span> <span class='st'>"B"</span><span class='op'>)</span>
</div><div class='input'><span class='fu'>plot_measures</span><span class='op'>(</span><span class='va'>results</span>, measure <span class='op'>=</span> <span class='st'>"id"</span><span class='op'>)</span>
</div><div class='img'><img src='utils_measures-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Get object measures by declaring the known resolution in dots per inch</span>
<span class='op'>(</span><span class='va'>measures</span> <span class='op'>&lt;-</span> <span class='fu'>get_measures</span><span class='op'>(</span><span class='va'>results</span>, dpi <span class='op'>=</span> <span class='fl'>300</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   id        x        y   area area_ch perimeter radius_mean radius_min
#&gt; 1  1  669.000  798.000 99.982  99.813    39.920       5.732      4.994
#&gt; 2  2 1737.502  453.000 24.996  24.911    19.947       2.864      2.491
#&gt; 3  3 1737.590 1296.339  7.050   7.044     8.551       1.494      1.481
#&gt; 4  4 1737.496  939.498  7.984   7.934    11.904       1.671      0.993
#&gt;   radius_max radius_sd radius_ratio diam_mean diam_min diam_max major_axis
#&gt; 1      7.058    74.266        1.413    11.464    9.989   14.117     11.546
#&gt; 2      3.528    37.117        1.416     5.728    4.983    7.055      5.778
#&gt; 3      1.506     0.567        1.017     2.988    2.963    3.013      2.997
#&gt; 4      2.224    49.872        2.239     3.341    1.987    4.448      4.614
#&gt;   minor_axis eccentricity theta solidity circularity
#&gt; 1      0.098        0.002 0.785    1.002       0.788
#&gt; 2      0.049        0.058 1.571    1.003       0.789
#&gt; 3      0.025        0.036 0.028    1.001       1.212
#&gt; 4      0.039        0.866 0.000    1.006       0.708</div><div class='input'>
<span class='co'># Calculated diagonal of the object 1</span>
<span class='co'># 10 * sqrt(2) = 14.14</span>

<span class='co'># Observed diagonal of the object 1</span>
<span class='va'>measures</span><span class='op'>[</span><span class='fl'>1</span>, <span class='st'>"radius_max"</span><span class='op'>]</span> <span class='op'>*</span> <span class='fl'>2</span>
</div><div class='output co'>#&gt; [1] 14.116</div><div class='input'>

<span class='co'># Get object measures by declaring the known area of object 1</span>
<span class='fu'>get_measures</span><span class='op'>(</span><span class='va'>results</span>,
             id <span class='op'>=</span> <span class='fl'>1</span>,
             <span class='va'>area</span> <span class='op'>~</span> <span class='fl'>100</span><span class='op'>)</span>
</div><div class='output co'>#&gt; -----------------------------------------
#&gt; measures corrected with:
#&gt; object id: 1
#&gt; area     : 100
#&gt; -----------------------------------------
#&gt; Total    : 140.037 
#&gt; Average  : 35.009 
#&gt; -----------------------------------------</div><div class='output co'>#&gt;   id        x        y    area area_ch perimeter radius_mean radius_min
#&gt; 1  1  669.000  798.000 100.000  99.831    39.924       5.733      4.995
#&gt; 2  2 1737.502  453.000  25.000  24.915    19.949       2.864      2.492
#&gt; 3  3 1737.590 1296.339   7.051   7.046     8.552       1.494      1.481
#&gt; 4  4 1737.496  939.498   7.986   7.935    11.905       1.671      0.994
#&gt;   radius_max radius_sd radius_ratio diam_mean diam_min diam_max major_axis
#&gt; 1      7.059    74.266        1.413    11.465    9.989   14.118     11.547
#&gt; 2      3.528    37.117        1.416     5.728    4.983    7.056      5.778
#&gt; 3      1.506     0.567        1.017     2.989    2.963    3.013      2.997
#&gt; 4      2.224    49.872        2.239     3.341    1.987    4.448      4.614
#&gt;   minor_axis eccentricity theta solidity circularity
#&gt; 1      0.098        0.002 0.785    1.002       0.788
#&gt; 2      0.049        0.058 1.571    1.003       0.789
#&gt; 3      0.025        0.036 0.028    1.001       1.212
#&gt; 4      0.039        0.866 0.000    1.006       0.708</div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://olivoto.netlify.app/'>Tiago Olivoto</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


